"use strict";!function(e,o){if(e.ssw=e.ssw||{},void 0===e.ssw.Tools)throw new Error("Please load Tools.js");e.ssw.Login=function(){throw new Error("Please use getInstance")},e.ssw.Login.getInstance=function(){return n||(n=new r)};var n=null,r=function(){var r=function(e){var o="Unknown error";switch(e){case 400:case 401:case 403:case 404:o="Login failed."}$("#error-txt").text(o),$("#error").show()};return{init:function(o,e){if($("#error").hide(),$("#success").hide(),setTimeout(function(){$("body").addClass("loaded")},200),$("#login").off("click").on("click",function(e){e.preventDefault(),$.post(o,$("form").serialize()).done(function(e){e.err?r(e.err):($('input[name="access_token"]').val(e.accessToken),$('input[name="roles"]').val(e.roles),$("form").submit())}).fail(function(e){r(e.status)})}),$(document).on("click blur keydown",".form-control",function(e){$("#error").hide()}),e){var n=JSON.parse(e);"string"==typeof n&&""!==n&&($("#error-txt").text(n),$("#error").show())}}}}}(window);