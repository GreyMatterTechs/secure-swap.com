"use strict";!function(o,e){if(o.ss_ico=o.ss_ico||{},void 0===o.ss_ico.Tools)throw new Error("Please load Tools.js");o.ss_ico.Login=function(){throw new Error("Please use getInstance")},o.ss_ico.Login.getInstance=function(){return n||(n=new r)};var n=null,r=function(){var n=function(o){var e="Unknown error";switch(o){case 400:case 401:case 403:case 404:e="Login failed."}$("#error-txt").text(e),$("#error").show()};return{init:function(o){if($("#error").hide(),$("#success").hide(),setTimeout(function(){$("body").addClass("loaded")},200),$("#login").off("click").on("click",function(o){o.preventDefault(),$.post("/",$("form").serialize()).done(function(o){o.err?n(o.err):($('input[name="access_token"]').val(o.accessToken),$("form").submit())}).fail(function(o){n(o.status)})}),$(document).on("click blur keydown",".form-control",function(o){$("#error").hide()}),o){var e=JSON.parse(o);"string"==typeof e&&""!==e&&($("#error-txt").text(e),$("#error").show())}}}}}(window);