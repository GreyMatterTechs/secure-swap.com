"use strict";!function(e,o){if(e.ssw=e.ssw||{},void 0===e.ssw.Tools)throw new Error("Please load Tools.js");e.ssw.Login=function(){throw new Error("Please use getInstance")},e.ssw.Login.getInstance=function(){return n||(n=new r)};var n=null,r=function(){var e=function(e){var o="Unknown error";switch(e){case 400:case 401:case 403:case 404:o="Login failed."}$("#error-txt").text(o),$("#error").show()};return{init:function(o,n){if($("#error").hide(),$("#success").hide(),setTimeout(function(){$("body").addClass("loaded")},200),$("#login").off("click").on("click",function(n){n.preventDefault(),$.post(o,$("form").serialize()).done(function(o){o.err?e(o.err):($('input[name="access_token"]').val(o.accessToken),$('input[name="roles"]').val(o.roles),$("form").submit())}).fail(function(o){e(o.status)})}),$(document).on("click blur keydown",".form-control",function(e){$("#error").hide()}),n){var r=JSON.parse(n);"string"==typeof r&&""!==r&&($("#error-txt").text(r),$("#error").show())}}}}}(window);