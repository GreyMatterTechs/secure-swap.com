!function(r,o){"use strict";if(r.ss_ico=r.ss_ico||{},r.ss_ico.Tools===o)throw new Error("Please load Tools.js");if(r.ss_ico.I18n===o)throw new Error("Please load I18n.js");r.ss_ico.Login=function(){throw new Error("Please use getInstance")},r.ss_ico.Login.getInstance=function(){return n||(n=new e)};var n=null,e=function(){var e=null;return{init:function(o){if($("#error").hide(),$("#success").hide(),e=r.ss_ico.I18n.getInstance(),setTimeout(function(){$("body").addClass("loaded")},200),$("#login").click(function(o){o.preventDefault(),$.post("/login",$("form").serialize()).done(function(o){if(o.err){var n="Unknown error";switch(o.err){case 400:case 401:case 403:case 404:n="Login failed."}$("#error-txt").text(n),$("#error").show()}else o.token,$("form").submit()}).fail(function(o){$("#error-txt").text(o.statusText),$("#error").show()})}),$(document).on("click blur keydown",".form-control",function(o){$("#error").hide()}),o){var n=JSON.parse(o);"string"==typeof n&&""!==n&&($("#error-txt").text(n),$("#error").show())}e.init(function(){$("input[placeholder]").i18n()},function(){$("input[placeholder]").i18n()})},dispose:function(){}}}}(window);