"use strict";!function(E,e){if(E.ss_ico=E.ss_ico||{},E.ss_ico.Tools===e)throw new Error("Please load Tools.js");if(E.ss_ico.I18n===e)throw new Error("Please load I18n.js");E.ss_ico.Landpage=function(){throw new Error("Please use getInstance")},E.ss_ico.Landpage.getInstance=function(){return t||(t=new a)};var t=null,a=function(){var n,t,a,o,e=null,i=null,s=3e3,c=s,l=null,r=6e4,d=r,u=null,f=3e3,p=f,m=null,h=(E.navigator.language,0),k=.45,v=409,g=477,b=k*(v/g),w=k/g;function y(){b=k*(v/g),w=k/g,$("#tokensale-eth").text($.i18n("tokensale-area.info.eth",k.toFixed(2),b.toFixed(3),w.toFixed(8)))}function x(){switch(h){case 1:$("#tokensale-title").text($.i18n("tokensale-area.info.start"));break;case 2:$("#tokensale-title").text($.i18n("tokensale-area.info.ends"));break;case 3:$("#tokensale-title").text($.i18n("tokensale-area.info.ended"))}$("#tokensale-percent").text($.i18n("tokensale-area.info.percent",n)),$("#token-sale-mobile-app div.progress > div").css("width",n+"%"),y(),$("#tokensale-li2-val").text($.i18n("tokensale-area.li2.value",moment(t).format("LL"))),$("#tokensale-li3-val").text($.i18n("tokensale-area.li3.value",moment(a).format("LL"))),$("#tokensale-li6-val").text($.i18n("tokensale-area.li6.value",o))}function I(e){var t=new Date(e),a=new Date,n=Math.max(0,(t.getTime()-a.getTime())/1e3);i&&(i.stop(),i.setTime(n),i.start())}function C(){$.get("/api/ICOs/GetICOData").done(function(e){if(c=s,e)if(k=e.tokenPriceUSD,n=Math.round(100*e.tokensSold/e.tokensTotal),t=e.dateEnd,a=e.dateStart,o=e.tokensTotal,e.state!==h)switch(h=e.state,e.state){case 1:I(e.dateStart),$(".clock-counter").show(),$(".ico-ended").hide(),$("#btn-purchase-sale").addClass("disabled"),x();break;case 2:I(e.dateEnd),$(".clock-counter").show(),$(".ico-ended").hide(),$("#btn-purchase-sale").removeClass("disabled"),x();break;case 3:i&&i.stop(),$(".clock-counter").hide(),$(".ico-ended").show(),$("#btn-purchase-sale").addClass("disabled"),x()}else x()}).fail(function(e){c<100*s&&(c*=2)})}function q(){l&&clearInterval(l),C(),l=setInterval(q,c)}function T(){u&&clearInterval(u),$.get("https://api.coinmarketcap.com/v2/ticker/1027/?convert=EUR").done(function(e){d=r,e&&(v=e.data.quotes.EUR.price,g=e.data.quotes.USD.price,y())}).fail(function(e){d<100*r&&(d*=2)}),u=setInterval(T,d)}function L(){$.get("/api/ICOs/getPurchase").done(function(e){var t,a;p=f,e&&(t=e.ethReceived,a=Math.floor(16*Math.random())+1,$.notify({icon:"assets/images/unknown_users/"+a+".png",title:"Thank you",message:'New purchase: <span class="blue">'+t.toFixed(5)+" ETH</span> received."},{type:"minimalist",placement:{from:"bottom",align:"left"},animate:{enter:"animated fadeInLeftBig",exit:"animated fadeOutLeftBig"},icon_type:"image",template:'<div data-notify="container" class="alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">Ã—</button><div id="image"><img data-notify="icon" class="rounded-circle float-left"></div><div id="text"><span data-notify="title">{1}</span><span data-notify="message">{2}</span><span data-notify="time">Few seconds ago</span></div></div>'}),n=Math.round(100*e.tokensSold/o),e.state!==h?C():x())}).fail(function(e){p<100*f&&(p*=2)})}function _(){m&&clearInterval(m),L(),m=setInterval(_,p)}return{init:function(){e=E.ss_ico.I18n.getInstance(),$('.head-content a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);(t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top},1e3,function(){var e=$(t);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}}),FlipClock.Lang.Custom={years:'<span data-i18n="tokensale-area.flipclock.years"></span>',months:'<span data-i18n="tokensale-area.flipclock.months"></span>',days:'<span data-i18n="tokensale-area.flipclock.days"></span>',hours:'<span data-i18n="tokensale-area.flipclock.hours"></span>',minutes:'<span data-i18n="tokensale-area.flipclock.minutes"></span>',seconds:'<span data-i18n="tokensale-area.flipclock.seconds"></span>'};i=$(".clock").FlipClock(864e3,{clockFace:"DailyCounter",countdown:!0,language:"Custom",classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"}}),$("#contact-success-alert").hide(),$("#contact-error-alert").hide(),$("#contact-debug-alert").hide(),$("#contact-submit").click(function(){var t;if(t=!0,$("#contact-form input[type=text]").each(function(e){0==e?null==$(this).val()||""==$(this).val()?($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):$("#contact-form").find("input:eq("+e+")").removeClass("required-error"):1==e?/(.+)@(.+){2,}\.(.+){2,}/.test($(this).val())?$("#contact-form").find("input:eq("+e+")").removeClass("required-error"):($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):2==e&&(null==$(this).val()||""==$(this).val()?($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):$("#contact-form").find("input:eq("+e+")").removeClass("required-error"))}),t){var e=$("#contact-form").serialize();$("#contact-debug-alert").hide(),$("#contact-submit").text($.i18n("contact-area.button.sending")),$.ajax({type:"POST",url:"/contact",data:e,success:function(e){e.err?($("#contact-error-alert").html($.i18n(e.err)),$("#contact-error-alert").fadeIn("slow"),$("#contact-error-alert").delay(5e3).fadeOut("slow")):e.success&&($("#contact-form input[type=text]").val(""),$("#contact-success-alert").html($.i18n(e.success)),$("#contact-success-alert").fadeIn("slow"),$("#contact-success-alert").delay(5e3).fadeOut("slow")),$("#contact-submit").text($.i18n("contact-area.button.submit"))},error:function(){$("#contact-error-alert").html($.i18n("contact-area.error.message2")),$("#contact-error-alert").fadeIn("slow"),$("#contact-error-alert").delay(5e3).fadeOut("slow"),$("#contact-submit").text($.i18n("contact-area.button.submit"))}})}}),$("#name, #mail, #message").on("input change",function(e){$(this).removeClass("required-error")});e.init(),e.buildGUI(function(e,t){moment.locale(e),t,$("input[placeholder]").i18n()},function(e,t){moment.locale(e),t,$("input[placeholder]").i18n(),$("tokensale-area.flipclock.years").i18n(),$("tokensale-area.flipclock.months").i18n(),$("tokensale-area.flipclock.days").i18n(),$("tokensale-area.flipclock.hours").i18n(),$("tokensale-area.flipclock.minutes").i18n(),$("tokensale-area.flipclock.seconds").i18n(),x()}),setTimeout(function(){q(),T()},200),setTimeout(function(){_()},2e3)}}}}(window),window.ss_ico.Tools.getInstance().addEventHandler(document,"DOMContentLoaded",window.ss_ico.Landpage.getInstance().init(),!1);