"use strict";!function(b,e){if(b.ss_ico=b.ss_ico||{},b.ss_ico.Tools===e)throw new Error("Please load Tools.js");if(b.ss_ico.I18n===e)throw new Error("Please load I18n.js");b.ss_ico.Landpage=function(){throw new Error("Please use getInstance")},b.ss_ico.Landpage.getInstance=function(){return t||(t=new a)};var t=null,a=function(){var e=null,s=null,r=6e4,l=r,t=null,a=6e4,n=a,o=null,i=3e3,c=i,d=null,u={},p=(b.navigator.language,.45),f=p*(409/477),m=p/477;function h(e){$('[data-i18n="tokensale-area.info.percent"]').text($.i18n("tokensale-area.info.percent",u.purchaseSoldPercent)),$('[data-i18n="tokensale-area.li2.value"]').text($.i18n("tokensale-area.li2.value",moment(u.dateEnd).format("LL"))),$('[data-i18n="tokensale-area.li3.value"]').text($.i18n("tokensale-area.li3.value",moment(u.dateStart).format("LL"))),$('[data-i18n="tokensale-area.li6.value"]').text($.i18n("tokensale-area.li6.value",u.tokensTotal)),$("#token-sale-mobile-app div.progress-bottom > div:nth-child(2)").text($.i18n("tokensale-area.info.eth",p.toFixed(2),f.toFixed(3),m.toFixed(8)))}function k(){t&&clearInterval(t),$.get("/api/ICOs/GetICOData").done(function(e){if(l=r,e){u=e;var t=new Date(e.dateStart),a=new Date,n=(t.getTime()-a.getTime())/1e3;n=Math.max(1,n),u.tokenSold<u.hardCap&&(n<=0&&(n=0,$("#btn-purchase-sale").removeClass("disabled"),$("#btn-purchase-head").show()),s&&(s.stop(),s.setTime(n),s.start())),p=e.tokenPriceUSD;var o=e.tokensTotal,i=e.tokensSold;u.purchaseSoldPercent=parseInt(100*i/o),$("#token-sale-mobile-app div.progress > div").css("width",u.purchaseSoldPercent+"%"),h()}}).fail(function(e){l<100*r&&(l*=2)}),t=setInterval(k,l)}function v(){o&&clearInterval(o),$.get("https://api.coinmarketcap.com/v2/ticker/1027/?convert=EUR").done(function(e){n=a,e&&(f=p*(e.data.quotes.EUR.price/e.data.quotes.USD.price),m=p/e.data.quotes.USD.price,$("#token-sale-mobile-app div.progress-bottom > div:nth-child(2)").text($.i18n("tokensale-area.info.eth",p.toFixed(2),f.toFixed(3),m.toFixed(8))))}).fail(function(e){n<100*a&&(n*=2)}),o=setInterval(v,n)}function g(){d&&clearInterval(d),$.get("/api/ICOs/getPurchase").done(function(e){if(c=i,e){var t=Math.floor(16*Math.random())+1;$.notify({icon:"assets/images/unknown_users/"+t+".png",title:"Thank you",message:'New purchase: <span class="blue">'+e.ethReceived+" ETH</span> received."},{type:"minimalist",placement:{from:"bottom",align:"left"},animate:{enter:"animated fadeInLeftBig",exit:"animated fadeOutLeftBig"},icon_type:"image",template:'<div data-notify="container" class="alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">Ã—</button><div id="image"><img data-notify="icon" class="rounded-circle float-left"></div><div id="text"><span data-notify="title">{1}</span><span data-notify="message">{2}</span><span data-notify="time">A minute ago</span></div></div>'}),u.ethReceived=e.ethReceived,u.ethTotal=e.ethTotal,u.tokensSold=e.tokensSold,u.purchaseSoldPercent=parseInt(100*u.tokensSold/u.tokensTotal),$("#token-sale-mobile-app div.progress > div").css("width",u.purchaseSoldPercent+"%"),h(),e.tokenSold>=u.hardCap&&($('[data-i18n="tokensale-area.info.ended"]').text($.i18n("tokensale-area.info.ended")),$("#btn-purchase-sale").addClass("disabled"),$("#btn-purchase-head").hide())}}).fail(function(e){c<100*i&&(c*=2)}),d=setInterval(g,c)}return{init:function(){e=b.ss_ico.I18n.getInstance(),$("#btn-purchase-sale").addClass("disabled"),$("#btn-purchase-head").hide(),FlipClock.Lang.Custom={years:'<span data-i18n="tokensale-area.flipclock.years"></span>',months:'<span data-i18n="tokensale-area.flipclock.months"></span>',days:'<span data-i18n="tokensale-area.flipclock.days"></span>',hours:'<span data-i18n="tokensale-area.flipclock.hours"></span>',minutes:'<span data-i18n="tokensale-area.flipclock.minutes"></span>',seconds:'<span data-i18n="tokensale-area.flipclock.seconds"></span>'};s=$(".clock").FlipClock(864e3,{clockFace:"DailyCounter",countdown:!0,language:"Custom",classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"}}),Highcharts.setOptions({colors:Highcharts.map(Highcharts.getOptions().colors,function(e){return{radialGradient:{cx:.5,cy:.3,r:.7},stops:[[0,e],[1,Highcharts.Color(e).brighten(-.3).get("rgb")]]}})}),Highcharts.chart("token-dist-chart",{chart:{backgroundColor:null,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!0,shadow:!0,type:"pie"},title:{text:""},plotOptions:{pie:{dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"},connectorColor:"silver"}}},series:[{name:"Distribution",data:[{name:"Crowdsale",y:61.41},{name:"Team",y:11.84},{name:"Advisors",y:10.85},{name:"Program",y:4.67},{name:"BugBounty",y:4.18},{name:"Other",y:7.05}]}]}),$("#contact-success-alert").hide(),$("#contact-error-alert").hide(),$("#contact-debug-alert").hide(),$("#contact-submit").click(function(){var t;if(t=!0,$("#contact-form input[type=text]").each(function(e){0==e?null==$(this).val()||""==$(this).val()?($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):$("#contact-form").find("input:eq("+e+")").removeClass("required-error"):1==e?/(.+)@(.+){2,}\.(.+){2,}/.test($(this).val())?$("#contact-form").find("input:eq("+e+")").removeClass("required-error"):($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):2==e&&(null==$(this).val()||""==$(this).val()?($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):$("#contact-form").find("input:eq("+e+")").removeClass("required-error"))}),t){var e=$("#contact-form").serialize();$("#contact-debug-alert").hide(),$("#contact-submit").text($.i18n("contact-area.button.sending")),$.ajax({type:"POST",url:"/contact",data:e,success:function(e){e.err?($("#contact-error-alert").html($.i18n(e.err)),$("#contact-error-alert").fadeIn("slow"),$("#contact-error-alert").delay(5e3).fadeOut("slow")):e.success&&($("#contact-form input[type=text]").val(""),$("#contact-success-alert").html($.i18n(e.success)),$("#contact-success-alert").fadeIn("slow"),$("#contact-success-alert").delay(5e3).fadeOut("slow")),$("#contact-submit").text($.i18n("contact-area.button.submit"))},error:function(){$("#contact-error-alert").html($.i18n("contact-area.error.message2")),$("#contact-error-alert").fadeIn("slow"),$("#contact-error-alert").delay(5e3).fadeOut("slow"),$("#contact-submit").text($.i18n("contact-area.button.submit"))}})}}),$("#name, #mail, #message").on("input change",function(e){$(this).removeClass("required-error")});e.init(),e.buildGUI(function(e,t){moment.locale(e),t,$("input[placeholder]").i18n()},function(e,t){moment.locale(e),t,$("input[placeholder]").i18n(),$("tokensale-area.flipclock.years").i18n(),$("tokensale-area.flipclock.months").i18n(),$("tokensale-area.flipclock.days").i18n(),$("tokensale-area.flipclock.hours").i18n(),$("tokensale-area.flipclock.minutes").i18n(),$("tokensale-area.flipclock.seconds").i18n(),h()}),setTimeout(function(){k(),v()},200),setTimeout(function(){g()},2e3)}}}}(window),window.ss_ico.Tools.getInstance().addEventHandler(document,"DOMContentLoaded",window.ss_ico.Landpage.getInstance().init(),!1);