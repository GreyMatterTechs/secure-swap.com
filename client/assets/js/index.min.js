!function(h,e){"use strict";if(h.ss_ico=h.ss_ico||{},h.ss_ico.Tools===e)throw new Error("Please load Tools.js");if(h.ss_ico.I18n===e)throw new Error("Please load I18n.js");h.ss_ico.Landpage=function(){throw new Error("Please use getInstance")},h.ss_ico.Landpage.getInstance=function(){return t||(t=new a)};var t=null,a=function(){var e=null,c=null,r=6e4,l=r,t=null,n=6e4,o=n,a=null,i=3e3,s=i,d=null,u=.45;function p(){t&&clearInterval(t),$.get("/api/ICOs/GetICOData").done(function(e){if(l=r,e){var t=new Date(e.dateStart),a=new Date,n=(t.getTime()-a.getTime())/1e3;(n=Math.max(1,n))<=0&&(n=0,$("#btn-purchase-sale").removeClass("disabled"),$("#btn-purchase-head").show()),c&&(c.stop(),c.setTime(n),c.start()),u=e.tokenPriceUSD;var o=e.tokensTotal,i=e.tokensSold,s=parseInt(100*i/o);$("#token-sale-mobile-app div.progress > div").css("width",s+"%"),$("#token-sale-mobile-app div.progress-bottom > div:nth-child(1)").text($.i18n("tokensale-area.info.percent",s))}}).fail(function(e){l<100*r&&(l*=2)}),t=setInterval(p,l)}function f(){a&&clearInterval(a),$.get("https://api.coinmarketcap.com/v2/ticker/1027/?convert=EUR").done(function(e){if(o=n,e){var t=u*(e.data.quotes.EUR.price/e.data.quotes.USD.price),a=u/e.data.quotes.USD.price;$("#token-sale-mobile-app div.progress-bottom > div:nth-child(2)").text($.i18n("tokensale-area.info.eth",u.toFixed(2),t.toFixed(2),a.toFixed(5)))}}).fail(function(e){o<100*n&&(o*=2)}),a=setInterval(f,o)}function m(){d&&clearInterval(d),$.get("/api/ICOs/getPurchase").done(function(e){if(s=i,e){var t=Math.floor(16*Math.random())+1;$.notify({icon:"assets/images/unknown_users/"+t+".png",title:"Thank you",message:'New purchase: <span class="blue">'+e+" SSWT</span> tokens."},{type:"minimalist",placement:{from:"bottom",align:"left"},animate:{enter:"animated fadeInLeftBig",exit:"animated fadeOutLeftBig"},icon_type:"image",template:'<div data-notify="container" class="alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">Ã—</button><div id="image"><img data-notify="icon" class="rounded-circle float-left"></div><div id="text"><span data-notify="title">{1}</span><span data-notify="message">{2}</span><span data-notify="time">A minute ago</span></div></div>'})}}).fail(function(e){s<100*i&&(s*=2)}),d=setInterval(m,s)}return{init:function(){e=h.ss_ico.I18n.getInstance(),$("#btn-purchase-sale").addClass("disabled"),$("#btn-purchase-head").hide(),FlipClock.Lang.Custom={years:'<span data-i18n="tokensale-area.flipclock.years"></span>',months:'<span data-i18n="tokensale-area.flipclock.months"></span>',days:'<span data-i18n="tokensale-area.flipclock.days"></span>',hours:'<span data-i18n="tokensale-area.flipclock.hours"></span>',minutes:'<span data-i18n="tokensale-area.flipclock.minutes"></span>',seconds:'<span data-i18n="tokensale-area.flipclock.seconds"></span>'};c=$(".clock").FlipClock(864e3,{clockFace:"DailyCounter",countdown:!0,language:"Custom",classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"}}),$("#contact-success-alert").hide(),$("#contact-error-alert").hide(),$("#contact-debug-alert").hide(),$("#contact-submit").click(function(){var t;if(t=!0,$("#contact-form input[type=text]").each(function(e){0==e?null==$(this).val()||""==$(this).val()?($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):$("#contact-form").find("input:eq("+e+")").removeClass("required-error"):1==e?/(.+)@(.+){2,}\.(.+){2,}/.test($(this).val())?$("#contact-form").find("input:eq("+e+")").removeClass("required-error"):($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):2==e&&(null==$(this).val()||""==$(this).val()?($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):$("#contact-form").find("input:eq("+e+")").removeClass("required-error"))}),t){var e=$("#contact-form").serialize();$("#contact-debug-alert").hide(),$("#contact-submit").text($.i18n("contact-area.button.sending")),$.ajax({type:"POST",url:"/contact",data:e,success:function(e){e.err?($("#contact-error-alert").html($.i18n(e.err)),$("#contact-error-alert").fadeIn("slow"),$("#contact-error-alert").delay(5e3).fadeOut("slow")):e.success&&($("#contact-form input[type=text]").val(""),$("#contact-success-alert").html($.i18n(e.success)),$("#contact-success-alert").fadeIn("slow"),$("#contact-success-alert").delay(5e3).fadeOut("slow")),$("#contact-submit").text($.i18n("contact-area.button.submit"))},error:function(){$("#contact-error-alert").html($.i18n("contact-area.error.message2")),$("#contact-error-alert").fadeIn("slow"),$("#contact-error-alert").delay(5e3).fadeOut("slow"),$("#contact-submit").text($.i18n("contact-area.button.submit"))}})}}),$("#name, #mail, #message").on("input change",function(e){$(this).removeClass("required-error")});e.init(),e.buildGUI(function(e,t){t,$("input[placeholder]").i18n()},function(){$("input[placeholder]").i18n(),$("tokensale-area.flipclock.years").i18n(),$("tokensale-area.flipclock.months").i18n(),$("tokensale-area.flipclock.days").i18n(),$("tokensale-area.flipclock.hours").i18n(),$("tokensale-area.flipclock.minutes").i18n(),$("tokensale-area.flipclock.seconds").i18n()}),setTimeout(function(){p(),f()},200),setTimeout(function(){m()},2e3)}}}}(window),window.ss_ico.Tools.getInstance().addEventHandler(document,"DOMContentLoaded",window.ss_ico.Landpage.getInstance().init(),!1);