"use strict";!function(q,U){if(q.ss_ico=q.ss_ico||{},q.ss_ico.Tools===U)throw new Error("Please load Tools.js");if(q.ss_ico.I18n===U)throw new Error("Please load I18n.js");q.ss_ico.Landpage=function(){throw new Error("Please use getInstance")},q.ss_ico.Landpage.getInstance=function(){return e||(e=new t)};var e=null,t=function(){var o,i,s,r,n=null,c=null,l=3e3,d=l,e=null,t=6e4,a=t,u=null,m=3e3,p=m,f=null,h=(q.navigator.language,0),v=.45,k=409,g=477,y=v*(k/g),b=v/g;function w(){if(1===$("#purchase-modal").length)switch(h){case 1:$("#purchase-modal-state-preico").removeClass("d-none"),$("#purchase-modal-state-ico").addClass("d-none"),$("#purchase-modal-state-postico").addClass("d-none"),$('p[data-i18n="purchasebox.preico.intro"]').html($.i18n("purchasebox.preico.intro",moment(s).format("LL")));break;case 2:$("#purchase-modal-state-preico").addClass("d-none"),$("#purchase-modal-state-ico").removeClass("d-none"),$("#purchase-modal-state-postico").addClass("d-none");break;case 3:$("#purchase-modal-state-preico").addClass("d-none"),$("#purchase-modal-state-ico").addClass("d-none"),$("#purchase-modal-state-postico").removeClass("d-none")}}function x(){y=v*(k/g),b=v/g,$("#tokensale-li7-val").text($.i18n("tokensale-area.info.eth",v.toFixed(2),y.toFixed(3),b.toFixed(8)))}function C(){switch(h){case 1:$("#tokensale-title").text($.i18n("tokensale-area.info.start"));break;case 2:$("#tokensale-title").text($.i18n("tokensale-area.info.ends"));break;case 3:$("#tokensale-title").text($.i18n("tokensale-area.info.ended"))}$("#tokensale-percent").text($.i18n("tokensale-area.info.percent",o+.25*o)),$("#token-sale-mobile-app div.progress > div").css("width",o+"%"),x(),$("#tokensale-li2-val").text($.i18n("tokensale-area.li2.value",moment(i).format("LL"))),$("#tokensale-li3-val").text($.i18n("tokensale-area.li3.value",moment(s).format("LL"))),$("#tokensale-li6-val").text($.i18n("tokensale-area.li6.value",r))}function I(e){var t=new Date(e),a=new Date,n=Math.max(0,(t.getTime()-a.getTime())/1e3);c&&(c.stop(),c.setTime(n),c.start())}function S(){$.get("/api/ICOs/GetICOData").done(function(e){if(d=l,e)switch(v=e.tokenPriceUSD,o=Math.round(100*e.tokensSold/e.tokensTotal),i=e.dateEnd,s=e.dateStart,r=e.tokensTotal,e.wallet,h=e.state,e.state){case 1:I((n=e).dateStart),$(".clock-counter").show(),$(".ico-ended").hide(),C(),w(n.state);break;case 2:I((a=e).dateEnd),$(".clock-counter").show(),$(".ico-ended").hide(),C(),w(a.state);break;case 3:t=e,c&&c.stop(),$(".clock-counter").hide(),$(".ico-ended").show(),C(),w(t.state)}var t,a,n}).fail(function(e){d<100*l&&(d*=2)})}function D(){e&&clearInterval(e),S(),e=setInterval(D,d)}function L(){u&&clearInterval(u),$.get("https://api.coinmarketcap.com/v2/ticker/1027/?convert=EUR").done(function(e){a=t,e&&(k=e.data.quotes.EUR.price,g=e.data.quotes.USD.price,x())}).fail(function(e){a<100*t&&(a*=2)}),u=setInterval(L,a)}function T(){$.get("/api/ICOs/getPurchase").done(function(e){var t,a;p=m,e&&(t=e.ethReceived,a=Math.floor(16*Math.random())+1,$.notify({icon:"assets/images/unknown_users/"+a+".png",title:"Thank you",message:'New purchase: <span class="blue">'+t.toFixed(5)+" ETH</span> received."},{type:"minimalist",placement:{from:"bottom",align:"left"},animate:{enter:"animated fadeInLeftBig",exit:"animated fadeOutLeftBig"},icon_type:"image",template:'<div data-notify="container" class="alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">Ã—</button><div id="image"><img data-notify="icon" class="rounded-circle float-left"></div><div id="text"><span data-notify="title">{1}</span><span data-notify="message">{2}</span><span data-notify="time">Few seconds ago</span></div></div>'}),o=Math.round(100*e.tokensSold/r),S())}).fail(function(e){p<100*m&&(p*=2)})}function F(){f&&clearInterval(f),T(),f=setInterval(F,p)}return{init:function(){n=q.ss_ico.I18n.getInstance(),$('.head-content a[href*="#"]').not('[href="#"]').not('[href="#0"]').unbind("click").bind("click",function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);(t=t.length?t:$("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top},1e3,function(){var e=$(t);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}}),$("#purchase-modal").on("show.bs.modal",function(){w()}),w();var e=document.getElementsByClassName("legal-form");Array.prototype.filter.call(e,function(t){t.addEventListener("submit",function(e){!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated"),$(".section-1").hide(),$(".section-2").show(),e.preventDefault(),!0},!1)});var t=$(".currencyValueFrom"),a=$(".currencyValueTo");t.on("input",function(){var e=$(this).val();a.val(e*g/v)}),a.on("input",function(){var e=$(this).val();t.val(e*v/g)}),FlipClock.Lang.Custom={years:'<span data-i18n="tokensale-area.flipclock.years"></span>',months:'<span data-i18n="tokensale-area.flipclock.months"></span>',days:'<span data-i18n="tokensale-area.flipclock.days"></span>',hours:'<span data-i18n="tokensale-area.flipclock.hours"></span>',minutes:'<span data-i18n="tokensale-area.flipclock.minutes"></span>',seconds:'<span data-i18n="tokensale-area.flipclock.seconds"></span>'};function o(e){var t=this.noUiSlider,a=Number(this.getAttribute("data-value"));t.set(a)}c=$(".clock").FlipClock(864e4,{clockFace:"DailyCounter",countdown:!0,language:"Custom",classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"}});var i=document.getElementsByClassName("token-slider"),s=[{value:1e7,config:{start:[1e7],behaviour:"tap-drag",connect:[!0,!1],tooltips:[{to:function(e){return e.toLocaleString(U,{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})}}],step:1e6,range:{min:[0],max:[5e7]},pips:{mode:"steps",density:3,filter:function(e,t){return 3e6===e?1:1e7===e?1:2e7===e?1:0},format:{to:function(e){return 3e6===e?"Top 100":1e7===e?"Top 75":2e7===e?"Top 50":""}}}}},{value:50,config:{start:[50],behaviour:"tap-drag",connect:[!0,!1],step:1,tooltips:[{to:function(e){return e.toFixed(0)+"%"}}],range:{min:[1],max:[100]}}},{value:.45,config:{start:[.45],behaviour:"tap-drag",connect:[!0,!1],step:.01,tooltips:[{to:function(e){return e.toLocaleString(U,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2})}}],range:{min:[.01],max:[1]},pips:{mode:"steps",density:3,filter:function(e,t){return.45===e?1:0},format:{to:function(e){return e.toLocaleString(U,{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2})+" (ICO Price)"}}}}}];[].slice.call(i).forEach(function(t,a){if(noUiSlider.create(t,s[a].config),t.noUiSlider.on("update",function(){s[a].value=t.noUiSlider.get();var e=365*s[0].value*.0015/(s[1].value/100*1e8)/s[2].value*100;$(".token-simu-percent").text(e.toFixed(0)+"%")}),0===a||2===a)for(var e=i[a].querySelectorAll(".noUi-value"),n=0;n<e.length;n++)e[n].style.cursor="pointer",e[n].noUiSlider=i[a].noUiSlider,e[n].addEventListener("click",o)}),$(".team-member").hover(function(){var e;$(this).next(".team-description").show(),$(this).parent().addClass("team-hover"),q.matchMedia("(min-width: 576px)").matches&&(e=$(this).parent().next()),q.matchMedia("(min-width: 768px)").matches&&(e=e.next()),q.matchMedia("(min-width: 992px)").matches&&(e=e.next()),e.css("visibility","hidden")},function(){$(".team-description").hide(),$(".team-profile > div > div").removeClass("team-hover").css("visibility","inherit")}),$("#contact-success-alert").hide(),$("#contact-error-alert").hide(),$("#contact-debug-alert").hide(),$("#contact-submit").click(function(){var t;if(t=!0,$("#contact-form input[type=text]").each(function(e){0==e?null==$(this).val()||""==$(this).val()?($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):$("#contact-form").find("input:eq("+e+")").removeClass("required-error"):1==e?/(.+)@(.+){2,}\.(.+){2,}/.test($(this).val())?$("#contact-form").find("input:eq("+e+")").removeClass("required-error"):($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):2==e&&(null==$(this).val()||""==$(this).val()?($("#contact-form").find("input:eq("+e+")").addClass("required-error"),t=!1):$("#contact-form").find("input:eq("+e+")").removeClass("required-error"))}),t){var e=$("#contact-form").serialize();$("#contact-debug-alert").hide(),$("#contact-submit").text($.i18n("contact-area.button.sending")),$.ajax({type:"POST",url:"/contact",data:e,success:function(e){e.err?($("#contact-error-alert").html($.i18n(e.err)),$("#contact-error-alert").fadeIn("slow"),$("#contact-error-alert").delay(5e3).fadeOut("slow")):e.success&&($("#contact-form input[type=text]").val(""),$("#contact-success-alert").html($.i18n(e.success)),$("#contact-success-alert").fadeIn("slow"),$("#contact-success-alert").delay(5e3).fadeOut("slow")),$("#contact-submit").text($.i18n("contact-area.button.submit"))},error:function(){$("#contact-error-alert").html($.i18n("contact-area.error.message2")),$("#contact-error-alert").fadeIn("slow"),$("#contact-error-alert").delay(5e3).fadeOut("slow"),$("#contact-submit").text($.i18n("contact-area.button.submit"))}})}}),$("#name, #mail, #message").on("input change",function(e){$(this).removeClass("required-error")});n.init(),n.buildGUI(function(e,t){moment.locale(e),t,$("input[placeholder]").i18n()},function(e,t){moment.locale(e),t,$("input[placeholder]").i18n(),$("tokensale-area.flipclock.years").i18n(),$("tokensale-area.flipclock.months").i18n(),$("tokensale-area.flipclock.days").i18n(),$("tokensale-area.flipclock.hours").i18n(),$("tokensale-area.flipclock.minutes").i18n(),$("tokensale-area.flipclock.seconds").i18n(),C()}),setTimeout(function(){D(),L()},200),setTimeout(function(){F()},2e3)}}}}(window),window.ss_ico.Tools.getInstance().addEventHandler(document,"DOMContentLoaded",window.ss_ico.Landpage.getInstance().init(),!1);