!function(b,e){"use strict";b.ss_ico=b.ss_ico||{},b.ss_ico.Tools=function(){throw new Error("Please use getInstance")},b.ss_ico.Tools.getInstance=function(){return n||(n=new t)};var n=null,t=function(){var t=/[\/\?<>\\:\*\|":]/g,a=/[\x00-\x1f\x80-\x9f]/g,i=/^\.+$/,o=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,s=/[\. ]+$/;function r(e){return 55296<=e&&e<=56319}function l(e){return 56320<=e&&e<=57343}function c(e){if("string"!=typeof e)throw new Error("Input must be string");for(var n=e.length,t=0,a=null,i=null,o=0;o<n;o++)l(a=e.charCodeAt(o))?null!=i&&r(i)?t+=1:t+=3:a<=127?t+=1:128<=a&&a<=2047?t+=2:2048<=a&&a<=65535&&(t+=3),i=a;return t}function g(e,n){return function(e,n){if("string"!=typeof e)throw new Error("Input must be string");for(var t,a,i=e.length,o=0,s=0;s<i;s+=1){if(t=e.charCodeAt(s),a=e[s],r(t)&&l(e.charCodeAt(s+1))&&(a+=e[s+=1]),(o+=c(a))===n)return e.slice(0,s+1);if(n<o)return e.slice(0,s-a.length+1)}return e}(e.replace(t,n).replace(a,n).replace(i,n).replace(o,n).replace(s,n),255)}function d(){e(),n()}function n(){var e=Math.max(document.documentElement.clientWidth,b.innerWidth||0),n=Math.max(document.documentElement.clientHeight,b.innerHeight||0);$(".page-content,.content-frame-body,.content-frame-right,.content-frame-left").css("width","").css("height",""),$(".sidebar .sidebar-wrapper").height(n);var t=0;t=0<$(".page-container-boxed").length?40:t,t+=0<$(".page-navigation-top-fixed").length?50:0;var a=$(".page-content"),i=$(".page-sidebar");if(a.height()<n-t&&a.height(n-t),i.height()>a.height()&&a.height(i.height()),0<$(".page-content-adaptive").length&&$(".page-content-adaptive").css("min-height",n-80),1024<e){if($(".page-sidebar").hasClass("scroll")){if($("body").hasClass("page-container-boxed"))var o=n-40;else o=n;$(".page-sidebar").height(o)}var s=$("body").hasClass("page-container-boxed")?200:170,r=$(".content-frame").height();if($(".content-frame-body").height()<n-170){var l=n-s<r-80?r-80:n-s;$(".content-frame-body,.content-frame-right,.content-frame-left").height(l)}else $(".content-frame-right,.content-frame-left").height($(".content-frame-body").height());$(".content-frame-left").show(),$(".content-frame-right").show()}else $(".content-frame-body").height($(".content-frame").height()-80),$(".page-sidebar").hasClass("scroll")&&$(".page-sidebar").css("height","");e<1200?$("body").hasClass("page-container-boxed")&&$("body").removeClass("page-container-boxed").data("boxed","1"):"1"===$("body").data("boxed")&&$("body").addClass("page-container-boxed").data("boxed","")}function e(){(b.innerWidth||$(document).width())<1025?($(".page-sidebar .x-navigation").removeClass("x-navigation-minimized"),$(".page-container").removeClass("page-container-wide"),$(".page-sidebar .x-navigation li.active").removeClass("active"),$(".x-navigation-horizontal").each(function(){$(this).hasClass("x-navigation-panel")||$(".x-navigation-horizontal").addClass("x-navigation-h-holder").removeClass("x-navigation-horizontal")})):(0<$(".page-navigation-toggled").length&&u("close"),$(".x-navigation-h-holder").addClass("x-navigation-horizontal").removeClass("x-navigation-h-holder"))}function u(e){"open"==e&&($(".page-container").removeClass("page-container-wide"),$(".page-sidebar .x-navigation").removeClass("x-navigation-minimized"),$(".x-navigation-minimize").find(".fa").removeClass("fa-indent").addClass("fa-dedent"),$(".page-sidebar.scroll").mCustomScrollbar("update")),"close"==e&&($(".page-container").addClass("page-container-wide"),$(".page-sidebar .x-navigation").addClass("x-navigation-minimized"),$(".x-navigation-minimize").find(".fa").removeClass("fa-dedent").addClass("fa-indent"),$(".page-sidebar.scroll").mCustomScrollbar("disable",!0)),$(".x-navigation li.active").removeClass("active")}function f(e){e=e||200,setTimeout(function(){n()},e)}function h(e,n){if(e.hasClass("panel-fullscreened"))e.removeClass("panel-fullscreened").unwrap(),e.find(".panel-body,.chart-holder").css("height",""),e.find(".panel-fullscreen .fa").removeClass("fa-compress").addClass("fa-expand"),$(b).resize(),"function"==typeof n&&n(!1);else{var t=e.find(".panel-heading"),a=e.find(".panel-body"),i=e.find(".panel-footer"),o=30;(a.hasClass("panel-body-table")||a.hasClass("padding-0"))&&(o=0),0<t.length&&(o+=t.height()+21),0<i.length&&(o+=i.height()+21),e.find(".panel-body,.chart-holder").height($(b).height()-o),e.addClass("panel-fullscreened").wrap('<div class="panel-fullscreen-wrap"></div>'),e.find(".panel-fullscreen .fa").removeClass("fa-expand").addClass("fa-compress"),$(b).resize(),"function"==typeof n&&n(!0)}}function p(e,n){e.hasClass("panel-toggled")?(e.removeClass("panel-toggled"),e.find(".panel-collapse .fa-angle-up").removeClass("fa-angle-up").addClass("fa-angle-down"),"function"==typeof n&&n(!1)):(e.addClass("panel-toggled"),e.find(".panel-collapse .fa-angle-down").removeClass("fa-angle-down").addClass("fa-angle-up"),"function"==typeof n&&n(!0)),d()}function v(e,n){e.addClass("panel-removed"),e.animate({opacity:0},200,function(){e.parent(".panel-fullscreen-wrap").remove(),$(this).remove(),"function"==typeof n&&n(!0),d()})}this.cssTransitionsSupport=!1,this.localstorage=null;var m=navigator.userAgent;m.match(/msie/i),m.match(/opera/i),m.match(/safari/i),m.match(/chrome/i),m.match(/firefox/i),m.match(/ipad|iphone/i),void 0===b.G_vmlCanvasManager&&document.createElement("canvas").getContext("2d");return b.btoa||(b.btoa=$.base64.encode),b.atob||(b.atob=$.base64.decode),{restoreGuiSettings:function(e){$.each(e,function(e,n){if(-1!==e.indexOf("-panel-")){var t=$("[data-settings='"+e+"']");0<t.length&&$.each(n,function(e,n){switch(e){case"fullscreen":t.hasClass("panel-fullscreened")!==("true"===n)&&h(t);break;case"collapse":t.hasClass("panel-toggled")!==("true"===n)&&p(t);break;case"remove":t.hasClass("panel-removed")!==("true"===n)&&v(t)}})}-1!==e.indexOf("-tab-")&&(0<$("[data-settings='"+e+"']").length&&$(".nav-tabs a[href="+n+"]").tab("show"))})},setPanelsInteractions:function(a){$(".panel-fullscreen").on("click",function(){var t=$(this).parents(".panel");return h(t,function(e){var n={};n[t.data("settings")]={fullscreen:e},$.post("/api/users/setSettings",{userId:a,settings:n}).done(function(){}).fail(function(){})}),$(this).parents(".dropdown").removeClass("open"),!1}),$(".panel-collapse").on("click",function(){var t=$(this).parents(".panel");return p(t,function(e){var n={};n[t.data("settings")]={collapse:e},$.post("/api/users/setSettings",{userId:a,settings:n}).done(function(){}).fail(function(){})}),$(this).parents(".dropdown").removeClass("open"),!1}),$(".panel-remove").on("click",function(){var t=$(this).parents(".panel");return v(t,function(e){var n={};n[t.data("settings")]={remove:e},$.post("/api/users/setSettings",{userId:a,settings:n}).done(function(){}).fail(function(){})}),$(this).parents(".dropdown").removeClass("open"),!1})},setTabsInteractions:function(o){$('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var n=$(e.target),t=n.parents(".panel"),a=n.attr("href"),i={};i[t.data("settings")]=a,$.post("/api/users/setSettings",{userId:o,settings:i}).done(function(){}).fail(function(){})})},saveTableSettings:function(e,n,t){var a={};a[n]=t,$.post("/api/users/setSettings",{userId:e,settings:a}).done(function(){}).fail(function(){})},getTableSettings:function(e,a,i){$.post("/api/users/getSettings",{userId:e}).done(function(e){var t,n=new Error("Could not find user settings");return n.status=404,e?($.each(e,function(e,n){e===a&&(t=n)}),t?i(null,t):i(n,null)):i(n,null)}).fail(function(e){return i(e,null)})},setNavigationInteractions:function(){$(".x-navigation-control").click(function(){return $(this).parents(".x-navigation").toggleClass("x-navigation-open"),f(),!1}),0<$(".page-navigation-toggled").length&&u("close"),0<$(".page-navigation-toggled-hover").length&&$(".page-sidebar").hover(function(){$(".x-navigation-minimize").trigger("click")},function(){$(".x-navigation-minimize").trigger("click")}),$(".x-navigation-minimize").click(function(){return $(".page-sidebar .x-navigation").hasClass("x-navigation-minimized")?($(".page-container").removeClass("page-navigation-toggled"),u("open")):($(".page-container").addClass("page-navigation-toggled"),u("close")),f(),!1}),$(".x-navigation li > a").unbind("click").bind("click",function(){var e=$(this).parent("li");e.parent("ul").find(" > li").not(e).removeClass("active")}),$(".x-navigation li").unbind("click").bind("click",function(e){e.stopPropagation();var n=$(this);if(0<n.children("ul").length||0<n.children(".panel").length||0<$(this).hasClass("xn-profile"))return n.hasClass("active")?(n.removeClass("active"),n.find("li.active").removeClass("active")):n.addClass("active"),f(),0<$(this).hasClass("xn-profile")}),d(),$(b).resize(function(){e(),n()})},ucfirst:function(e){return e.substr(0,1).toUpperCase()+e.substr(1)},isEmpty:function(e,n){return null==e||0===e.length||n&&""===$.trim(e)},sanitize:function(e,n){var t=n&&n.replacement||"",a=g(e,t);return""===t?a:g(a,"")},getBool:function(e){var n;return null!=e&&(isNaN(n=+e)?!!String(e).toLowerCase().replace(!1,""):!!n)},getUrlVars:function(){var a={};b.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,t){a[n]=t});return a},initLocalStorage:function(){if(Modernizr.localstorage)try{this.localstorage=b.localStorage}catch(e){}else alert("no local storage!")},lsGetString:function(e,n){return this.localstorage&&this.localstorage.getItem(e)?this.localstorage.getItem(e):n},lsGetBool:function(e,n){return this.localstorage&&this.localstorage.getItem(e)?"true"==this.localstorage.getItem(e):n},lsGetInt:function(e,n){return this.localstorage&&this.localstorage.getItem(e)?1*this.localstorage.getItem(e):n},lsGetObject:function(e,n){return this.localstorage&&this.localstorage.getItem(e)?JSON.parse(this.localstorage.getItem(e)):n},lsSetItem:function(e,n){this.localstorage&&("object"==typeof n?this.localstorage.setItem(e,JSON.stringify(n)):this.localstorage.setItem(e,n))},lsRemoveItem:function(e){this.localstorage&&this.localstorage.removeItem(e)},initAntiSelect:function(){document.onselectstart=new Function("return false"),b.sidebar&&(document.onmousedown=function(){return!1},document.onclick=function(){return!0})},noselection:function(e){void 0!==e.onselectstart?e.onselectstart=function(){return!1}:void 0!==e.style.MozUserSelect?e.style.MozUserSelect="none":e.onmousedown=function(){return!1},e.style.cursor="default"},loadJsLib:function(e,a,n,t){$.when($.getScript(e+"/"+a).fail(function(e,n,t){throw new Error("Can't load "+a+". Message: "+t.message)})).done(function(e){n&&n(t)}).fail(function(e,n,t){throw new Error("When error. Message: "+t.message)})},loadJsLib2:function(e,a,n,i,t,o){$.when($.getScript(e+"/"+a).fail(function(e,n,t){throw new Error("Can't load "+a+". Message: "+t.message)}),$.getScript(n+"/"+i).fail(function(e,n,t){throw new Error("Can't load "+i+". Message: "+t.message)})).done(function(e){t&&t(o)}).fail(function(e,n,t){throw new Error("When error. Message: "+t.message)})},doWhen:function(e,n,t,a){t||(t=100);var i=null,o=null;o=setInterval(function(){e()&&(clearInterval(o),i&&clearTimeout(i),n())},t),a&&(i=setTimeout(function(){clearInterval(o)},a))},addEventHandler:function(e,n,t,a){return e.addEventListener?(e.addEventListener(n,t,a),!0):!!e.attachEvent&&e.attachEvent("on"+n,t)},removeEventHandler:function(e,n,t,a){return e.removeEventListener?(e.removeEventListener(n,t,a),!0):!!e.detachEvent&&e.detachEvent("on"+n,t)}}}}(window);